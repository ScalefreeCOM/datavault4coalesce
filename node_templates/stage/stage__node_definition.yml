capitalized: "Datavault4Coalesce: Stage"
short: dv4coalesce_stage
plural: Stages
tagColor: '#2EB67D'

config:
- groupName: Options
  items:
  - type: materializationSelector
    default: table
    options:
    - table
    - view
    isRequired: true

  - type: multisourceToggle
    enableIf: "{% if node.materializationType == 'table' %} true {% else %} false {% endif %}" 

  - type: overrideSQLToggle
    enableIf: "{% if node.materializationType == 'view' %} true {% else %} false {% endif %}"
    
  - displayName: Multi Source Strategy
    attributeName: insertStrategy
    type: dropdownSelector
    default: INSERT
    options:
    - "INSERT"
    - "UNION"
    - "UNION ALL"
    isRequired: true
    enableIf: "{% if node.isMultisource %} true {% else %} false {% endif %}"

  - displayName: Truncate Before
    attributeName: truncateBefore
    type: toggleButton
    default: true

  - displayName: Enable Tests
    attributeName: testsEnabled
    type: toggleButton
    default: true

  - displayName: Generate Ghost Records
    attributeName: generate_ghost_records
    type: toggleButton
    default: true
    
  - displayName: Pre-SQL
    attributeName: preSQL
    type: textBox
    syntax: sql
    isRequired: false

  - displayName: Post-SQL
    attributeName: postSQL
    type: textBox
    syntax: sql
    isRequired: false
